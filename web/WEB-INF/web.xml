<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"
         version="4.0">

    <display-name>OptionalCourses</display-name>

    <listener>
        <listener-class>ua.nure.movenko.summaryTask4.web.listeners.ContextListener</listener-class>
    </listener>

    <context-param>
        <param-name>SOURCE_DB</param-name>
        <param-value>OPTIONAL_COURSES_DB</param-value>
    </context-param>

    <welcome-file-list>
        <welcome-file>main.html</welcome-file>
    </welcome-file-list>

    <servlet>
        <servlet-name>main</servlet-name>
        <jsp-file>/WEB-INF/jsp/main.jsp</jsp-file>
        <load-on-startup>1</load-on-startup>
    </servlet>
    <servlet-mapping>
        <servlet-name>main</servlet-name>
        <url-pattern>/main.html</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>courses</servlet-name>
        <jsp-file>/WEB-INF/jsp/courses.jsp</jsp-file>
        <load-on-startup>2</load-on-startup>
    </servlet>
    <servlet-mapping>
        <servlet-name>courses</servlet-name>
        <url-pattern>/courses.html</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>create_course</servlet-name>
        <jsp-file>/WEB-INF/jsp/createCourse.jsp</jsp-file>
    </servlet>
    <servlet-mapping>
        <servlet-name>create_course</servlet-name>
        <url-pattern>/create-course.html</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>myProfile</servlet-name>
        <jsp-file>/WEB-INF/jsp/myProfile.jsp</jsp-file>
        <load-on-startup>4</load-on-startup>
    </servlet>
    <servlet-mapping>
        <servlet-name>myProfile</servlet-name>
        <url-pattern>/my_profile.html</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>update_course</servlet-name>
        <jsp-file>/WEB-INF/jsp/updateCourse.jsp</jsp-file>
    </servlet>
    <servlet-mapping>
        <servlet-name>update_course</servlet-name>
        <url-pattern>/update-course.html</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>register_somebody</servlet-name>
        <jsp-file>/WEB-INF/jsp/registrationByAdmin.jsp</jsp-file>
    </servlet>
    <servlet-mapping>
        <servlet-name>register_somebody</servlet-name>
        <url-pattern>/register-somebody.html</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>success_registration</servlet-name>
        <jsp-file>/WEB-INF/jsp/success_registration.jsp</jsp-file>
    </servlet>
    <servlet-mapping>
        <servlet-name>success_registration</servlet-name>
        <url-pattern>/success_registration.html</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>add_theme</servlet-name>
        <jsp-file>/WEB-INF/jsp/addTheme.jsp</jsp-file>
        <load-on-startup>1</load-on-startup>
    </servlet>
    <servlet-mapping>
        <servlet-name>add_theme</servlet-name>
        <url-pattern>/add-theme.html</url-pattern>
    </servlet-mapping>


    <servlet>
        <servlet-name>registration</servlet-name>
        <jsp-file>/WEB-INF/jsp/registration.jsp</jsp-file>
        <load-on-startup>1</load-on-startup>
    </servlet>
    <servlet-mapping>
        <servlet-name>registration</servlet-name>
        <url-pattern>/registration.html</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>course-card</servlet-name>
        <jsp-file>/WEB-INF/jsp/course-card.jsp</jsp-file>
        <load-on-startup>1</load-on-startup>
    </servlet>
    <servlet-mapping>
        <servlet-name>course-card</servlet-name>
        <url-pattern>/course-card.html</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>login</servlet-name>
        <jsp-file>/WEB-INF/jsp/login.jsp</jsp-file>
        <load-on-startup>1</load-on-startup>
    </servlet>
    <servlet-mapping>
        <servlet-name>login</servlet-name>
        <url-pattern>/login.html</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>upload_file</servlet-name>
        <jsp-file>/WEB-INF/jsp/upload_file.jsp</jsp-file>
    </servlet>
    <servlet-mapping>
        <servlet-name>upload_file</servlet-name>
        <url-pattern>/upload_file.html</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>restore_password</servlet-name>
        <jsp-file>/WEB-INF/jsp/recoveryForm.jsp</jsp-file>
    </servlet>
    <servlet-mapping>
        <servlet-name>restore_password</servlet-name>
        <url-pattern>/restore_password.html</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>change_password</servlet-name>
        <jsp-file>/WEB-INF/jsp/changePassword.jsp</jsp-file>
    </servlet>
    <servlet-mapping>
        <servlet-name>change_password</servlet-name>
        <url-pattern>/change_password.html</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>update_my_info</servlet-name>
        <jsp-file>/WEB-INF/jsp/updateUser.jsp</jsp-file>
    </servlet>
    <servlet-mapping>
        <servlet-name>update_my_info</servlet-name>
        <url-pattern>/update_my_info.html</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>student-courses</servlet-name>
        <jsp-file>/WEB-INF/jsp/studentCourses.jsp</jsp-file>
        <load-on-startup>1</load-on-startup>
    </servlet>
    <servlet-mapping>
        <servlet-name>student-courses</servlet-name>
        <url-pattern>/student-courses.html</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>ban</servlet-name>
        <jsp-file>/WEB-INF/jsp/ban.jsp</jsp-file>
        <load-on-startup>1</load-on-startup>
    </servlet>
    <servlet-mapping>
        <servlet-name>ban</servlet-name>
        <url-pattern>/ban.html</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>lector_courses</servlet-name>
        <jsp-file>/WEB-INF/jsp/lectorCourses.jsp</jsp-file>
    </servlet>
    <servlet-mapping>
        <servlet-name>lector_courses</servlet-name>
        <url-pattern>/lector-courses.html</url-pattern>
    </servlet-mapping>

    <servlet>
        <servlet-name>journal</servlet-name>
        <jsp-file>/WEB-INF/jsp/journal.jsp</jsp-file>
    </servlet>
    <servlet-mapping>
        <servlet-name>journal</servlet-name>
        <url-pattern>/journal.html</url-pattern>
    </servlet-mapping>

    <context-param>
        <param-name>SECURITY</param-name>
        <param-value>/security-config.xml</param-value>
    </context-param>

    <context-param>
        <param-name>MAIL_CONFIG</param-name>
        <param-value>/mail/mail.properties</param-value>
    </context-param>

    <filter>
        <filter-name>EncodingFilter</filter-name>
        <filter-class>ua.nure.movenko.summaryTask4.web.filter.EncodingFilter</filter-class>
        <init-param>
            <param-name>encoding</param-name>
            <param-value>UTF-8</param-value>
        </init-param>
    </filter>
    <filter-mapping>
        <filter-name>EncodingFilter</filter-name>
        <url-pattern>/*</url-pattern>
    </filter-mapping>

    <filter>
        <filter-name>AuthorizationFilter</filter-name>
        <filter-class>ua.nure.movenko.summaryTask4.web.filter.AuthorizationFilter</filter-class>
    </filter>
    <filter-mapping>
        <filter-name>AuthorizationFilter</filter-name>
        <url-pattern>/*</url-pattern>
    </filter-mapping>

    <error-page>
        <error-code>401</error-code>
        <location>/WEB-INF/jsp/error/unauthorizedError401.jsp</location>
    </error-page>

    <error-page>
        <error-code>500</error-code>
        <location>/WEB-INF/jsp/error/internalServerError500.jsp</location>
    </error-page>

    <error-page>
        <error-code>403</error-code>
        <location>/WEB-INF/jsp/error/forbiddenError403.jsp</location>
    </error-page>

    <error-page>
        <error-code>404</error-code>
        <location>/WEB-INF/jsp/error/notFound404.jsp</location>
    </error-page>

    <error-page>
        <error-code>405</error-code>
        <location>/WEB-INF/jsp/error/methodNotAllowed405.jsp</location>
    </error-page>

</web-app>